<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨ç‰©çµé­‚åŸå‹æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .intro {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.1rem;
            color: #555;
        }
        
        .question-container {
            margin-bottom: 30px;
        }
        
        .question {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: bold;
            color: #444;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: #f9f9f9;
        }
        
        .option:hover {
            border-color: #6a11cb;
            background: #f0f0f0;
        }
        
        .option.selected {
            border-color: #6a11cb;
            background: #e6f0ff;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-container {
            display: none;
            text-align: center;
            padding: 30px;
        }
        
        .animal-name {
            font-size: 2.5rem;
            color: #6a11cb;
            margin: 20px 0;
        }
        
        .animal-image-container {
            position: relative;
            margin: 20px auto;
            width: 200px;
            height: 200px;
        }
        
        .animal-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            border: 5px solid #6a11cb;
            background-color: #f5f5f5;
        }
        
        .animal-emoji {
            font-size: 80px;
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }
        
        .image-loading {
            width: 100%;
            height: 100%;
            display: none;
            align-items: center;
            justify-content: center;
            background: #f0f0f0;
            color: #666;
            font-size: 14px;
            border-radius: 50%;
            border: 2px dashed #ccc;
        }
        
        .animal-description {
            text-align: left;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.8;
        }
        
        .traits {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .trait {
            background: #e6f0ff;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        /* æ–°å¢ï¼šç»´åº¦åˆ†ææ ·å¼ */
        .dimension-analysis {
            margin: 30px 0;
            text-align: left;
        }
        
        .dimension-title {
            font-size: 1.3rem;
            color: #6a11cb;
            margin: 25px 0 15px 0;
            padding-bottom: 8px;
            border-bottom: 2px solid #e6f0ff;
        }
        
        .dimension-item {
            background: white;
            border: 2px solid #e6f0ff;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        
        .dimension-item:hover {
            border-color: #6a11cb;
            box-shadow: 0 5px 15px rgba(106, 17, 203, 0.1);
        }
        
        .dimension-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .dimension-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .dimension-bar {
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .dimension-progress {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-in-out;
        }
        
        .dimension-value {
            text-align: right;
            font-size: 0.9rem;
            color: #666;
            font-weight: bold;
        }
        
        .strength-weakness {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        
        .strength-box, .weakness-box {
            padding: 15px;
            border-radius: 10px;
            text-align: left;
        }
        
        .strength-box {
            background: #e8f5e8;
            border: 2px solid #4CAF50;
        }
        
        .weakness-box {
            background: #ffe8e8;
            border: 2px solid #f44336;
        }
        
        .strength-title, .weakness-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .strength-title {
            color: #2e7d32;
        }
        
        .weakness-title {
            color: #c62828;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            width: 0%;
            transition: width 0.5s;
        }
        
        .question-counter {
            text-align: center;
            margin-bottom: 10px;
            color: #666;
        }
        
        .restart-btn {
            background: #4CAF50;
            margin-top: 10px;
        }
        
        .reset-btn {
            background: #dc3545;
            margin-top: 10px;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        
        @media (max-width: 600px) {
            .container {
                border-radius: 10px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .animal-image-container {
                width: 150px;
                height: 150px;
            }
            
            .animal-emoji {
                font-size: 60px;
            }
            
            .strength-weakness {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>åŠ¨ç‰©çµé­‚åŸå‹æµ‹è¯•</h1>
            <p class="subtitle">æ¢ç´¢ä½ å†…å¿ƒæ·±å¤„çš„åŠ¨ç‰©æœ¬æ€§</p>
        </header>
        
        <div class="content">
            <div id="intro-section">
                <div class="intro">
                    <p>åœ¨æ¯ä¸ªäººçš„çµé­‚æ·±å¤„ï¼Œéƒ½æ²‰ç¡ç€ä¸€ä¸ªå¤è€çš„åŠ¨ç‰©åŸå‹ã€‚å®ƒå¡‘é€ ç€ä½ çš„æœ¬èƒ½ã€ä½ çš„é­…åŠ›ï¼Œç”šè‡³æ˜¯ä½ è‡ªå·±éƒ½æœªå¯Ÿè§‰çš„éšè—å¤©èµ‹ã€‚</p>
                    <p>å®Œæˆè¿™ä»½çµé­‚é—®å·ï¼Œåªéœ€å›ç­”15ä¸ªé—®é¢˜ï¼Œå”¤é†’ä½ çš„åŸå§‹åŠ›é‡ï¼Œçœ‹çœ‹æ˜¯å“ªä½"åŠ¨ç‰©å®ˆæŠ¤çµ"ä¸€ç›´ä¸ä½ åŒåœ¨ã€‚</p>
                    
                    <!-- æµ‹è¯•æ¬¡æ•°æé†’ -->
                    <div id="test-limit-warning" class="warning" style="display: none;">
                        <p><strong>âš ï¸ æç¤º</strong></p>
                        <p>æ‚¨å·²ç»å®Œæˆè¿‡æµ‹è¯•äº†ï¼æ¯ä¸ªç”¨æˆ·åªèƒ½æµ‹è¯•ä¸€æ¬¡ã€‚</p>
                        <p>æ‚¨ä¸Šæ¬¡çš„ç»“æœæ˜¯ï¼š<strong id="previous-result"></strong></p>
                        <button id="view-previous-result" class="btn">æŸ¥çœ‹ä¸Šæ¬¡ç»“æœ</button>
                        <button id="reset-test" class="btn reset-btn">é‡ç½®æµ‹è¯•ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</button>
                    </div>
                </div>
                <button id="start-btn" class="btn">å¼€å§‹æµ‹è¯•</button>
            </div>
            
            <div id="test-section" style="display: none;">
                <div class="question-counter">é—®é¢˜ <span id="current-question">1</span>/15</div>
                <div class="progress-bar">
                    <div class="progress" id="progress-bar"></div>
                </div>
                
                <div class="question-container">
                    <div class="question" id="question-text"></div>
                    <div class="options" id="options-container"></div>
                </div>
                
                <button id="next-btn" class="btn" disabled>ä¸‹ä¸€é¢˜</button>
            </div>
            
            <div id="result-section" class="result-container">
                <h2>ä½ çš„åŠ¨ç‰©çµé­‚åŸå‹æ˜¯ï¼š</h2>
                <div class="animal-name" id="result-name"></div>
                
                <!-- å›¾ç‰‡æ˜¾ç¤ºåŒºåŸŸ -->
                <div class="animal-image-container">
                    <img class="animal-image" id="result-image" src="" alt="åŠ¨ç‰©å›¾ç‰‡" style="display: none;">
                    <div class="animal-emoji" id="result-emoji"></div>
                    <div class="image-loading" id="image-loading">å›¾ç‰‡åŠ è½½ä¸­...</div>
                </div>
                
                <div class="traits" id="result-traits"></div>
                <div class="animal-description" id="result-description"></div>
                
                <!-- æ–°å¢ï¼šç»´åº¦åˆ†æåŒºåŸŸ -->
                <div class="dimension-analysis" id="dimension-analysis">
                    <h3 class="dimension-title">ğŸ“Š æ€§æ ¼ç»´åº¦åˆ†æ</h3>
                    
                    <div class="dimension-item">
                        <div class="dimension-name">ç¤¾äº¤å€¾å‘</div>
                        <div class="dimension-description" id="social-description"></div>
                        <div class="dimension-bar">
                            <div class="dimension-progress" id="social-progress" style="width: 0%; background: linear-gradient(90deg, #ff6b6b, #ffa726);"></div>
                        </div>
                        <div class="dimension-value" id="social-value"></div>
                    </div>
                    
                    <div class="dimension-item">
                        <div class="dimension-name">èƒ½é‡æ°´å¹³</div>
                        <div class="dimension-description" id="energy-description"></div>
                        <div class="dimension-bar">
                            <div class="dimension-progress" id="energy-progress" style="width: 0%; background: linear-gradient(90deg, #4ecdc4, #45b7d1);"></div>
                        </div>
                        <div class="dimension-value" id="energy-value"></div>
                    </div>
                    
                    <div class="dimension-item">
                        <div class="dimension-name">æ€ç»´æ¨¡å¼</div>
                        <div class="dimension-description" id="mind-description"></div>
                        <div class="dimension-bar">
                            <div class="dimension-progress" id="mind-progress" style="width: 0%; background: linear-gradient(90deg, #96ceb4, #4caf50);"></div>
                        </div>
                        <div class="dimension-value" id="mind-value"></div>
                    </div>
                    
                    <div class="dimension-item">
                        <div class="dimension-name">é£é™©åå¥½</div>
                        <div class="dimension-description" id="risk-description"></div>
                        <div class="dimension-bar">
                            <div class="dimension-progress" id="risk-progress" style="width: 0%; background: linear-gradient(90deg, #ff9ff3, #f368e0);"></div>
                        </div>
                        <div class="dimension-value" id="risk-value"></div>
                    </div>
                    
                    <div class="strength-weakness">
                        <div class="strength-box">
                            <div class="strength-title">ğŸ’ª æ ¸å¿ƒä¼˜åŠ¿ä¸å‘å±•æ–¹å‘</div>
                            <div id="strengths-list"></div>
                        </div>
                        <div class="weakness-box">
                            <div class="weakness-title">ğŸ¯ æˆé•¿å»ºè®®ä¸æ—¶ä»£é€‚åº”</div>
                            <div id="weaknesses-list"></div>
                        </div>
                    </div>
                </div>
                
                <button id="restart-btn" class="btn restart-btn">é‡æ–°æµ‹è¯•</button>
            </div>
        </div>
    </div>

    <script>
        // åœ¨é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æµ‹è¯•çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            checkTestStatus();
        });

        // æµ‹è¯•é¢˜ç›®
        const questions = [
            {
                text: "å‘¨æœ«æ—©æ™¨ï¼Œå¤©æ°”æå¥½ï¼Œä½ ç¬¬ä¸€ä»¶æƒ³åšçš„äº‹æ˜¯ï¼Ÿ",
                options: [
                    { text: "çº¦æœ‹å‹å»æˆ·å¤–çˆ¬å±±ã€éª‘è¡Œæˆ–æ‰“çƒã€‚", scores: { social: 2, energy: 2, mind: 0, risk: 1, environment: 1 } },
                    { text: "ä¸€ä¸ªäººå»å…¬å›­ã€åšç‰©é¦†æˆ–å¸‚åœºé€›é€›ï¼Œäº«å—ç‹¬å¤„æ—¶å…‰ã€‚", scores: { social: -1, energy: 1, mind: 0, risk: 0, environment: 0 } },
                    { text: "ç»§ç»­èµ–åºŠï¼Œæˆ–è€…çªåœ¨æ²™å‘é‡Œæ‚ é—²åœ°åƒæ—©é¤ã€åˆ·æ‰‹æœºã€‚", scores: { social: -1, energy: -1, mind: 0, risk: -1, environment: -1 } },
                    { text: "ç«‹åˆ»å¼€å§‹æ‰§è¡Œæ—©å·²åˆ¶å®šå¥½çš„å‘¨æœ«è®¡åˆ’ã€‚", scores: { social: 0, energy: 1, mind: 1, risk: 0, environment: 1 } }
                ]
            },
            {
                text: "ä½ çš„åŠå…¬æ¡Œæˆ–ä¹¦æ¡Œé€šå¸¸æ˜¯æ€æ ·çš„çŠ¶æ€ï¼Ÿ",
                options: [
                    { text: "æ•´æ´æœ‰åºï¼Œæ¯æ ·ä¸œè¥¿éƒ½æœ‰å›ºå®šä½ç½®ã€‚", scores: { social: 0, energy: 0, mind: 1, risk: -1, environment: 1 } },
                    { text: "å †æ»¡äº†ä¸œè¥¿ï¼Œä½†æˆ‘æ¸…æ¥šæ¯ä¸€æ ·åœ¨å“ªï¼Œè¿™æ˜¯ä¸€ç§å……æ»¡åˆ›æ„çš„â€˜ä¹±â€™ã€‚", scores: { social: 0, energy: 0, mind: -1, risk: 1, environment: -1 } },
                    { text: "ä¼šæ”¾ä¸€äº›å®¶äººã€æœ‹å‹æˆ–å® ç‰©çš„ç…§ç‰‡ï¼Œæ„Ÿè§‰å¾ˆæ¸©é¦¨ã€‚", scores: { social: 1, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "æç®€é£æ ¼ï¼Œåªæ”¾å½“å‰å¿…éœ€çš„ç‰©å“ã€‚", scores: { social: -1, energy: 0, mind: 1, risk: 0, environment: 0 } }
                ]
            },
            {
                text: "å½“ä½ æ„Ÿåˆ°å‹åŠ›å·¨å¤§æ—¶ï¼Œä»€ä¹ˆæœ€èƒ½æ²»æ„ˆä½ ï¼Ÿ",
                options: [
                    { text: "æ‰¾æœ‹å‹å€¾è¯‰ï¼Œæˆ–å‚åŠ çƒ­é—¹çš„ç¤¾äº¤æ´»åŠ¨ã€‚", scores: { social: 2, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "ä¸€ä¸ªäººå‘†ç€ï¼Œé€šè¿‡çœ‹ä¹¦ã€å¬éŸ³ä¹æˆ–ç‹¬å¤„æ¥å……ç”µã€‚", scores: { social: -2, energy: -1, mind: 0, risk: 0, environment: -1 } },
                    { text: "æŠ•å…¥å¤§è‡ªç„¶çš„æ€€æŠ±ï¼Œå»çˆ¬å±±ã€çœ‹æµ·æˆ–æ£®æ—æµ´ã€‚", scores: { social: -1, energy: 1, mind: 0, risk: 1, environment: 0 } },
                    { text: "é€šè¿‡å‰§çƒˆè¿åŠ¨ï¼Œæ¯”å¦‚è·‘æ­¥ã€å¥èº«ï¼Œæ¥é‡Šæ”¾å‹åŠ›ã€‚", scores: { social: 0, energy: 2, mind: 0, risk: 1, environment: 1 } }
                ]
            },
            {
                text: "æ—…è¡Œå‰ï¼Œä½ ä¼šå¦‚ä½•åšè®¡åˆ’ï¼Ÿ",
                options: [
                    { text: "åšå¥½è¯¦å°½çš„æ”»ç•¥ï¼Œæ—¶é—´åœ°ç‚¹ç²¾ç¡®åˆ°å°æ—¶ï¼Œä¸å–œæ¬¢æ„å¤–ã€‚", scores: { social: 0, energy: 0, mind: 2, risk: -2, environment: 1 } },
                    { text: "åªå®šå¤§æ¡†æ¶ï¼Œç•™å‡ºå¤§é‡æ—¶é—´ç”¨äºéšæ€§æ¢ç´¢å’Œå‘ç°ã€‚", scores: { social: 0, energy: 0, mind: -1, risk: 1, environment: 0 } },
                    { text: "æ›´å€¾å‘äºå’Œæœ‹å‹ä¸€èµ·ï¼Œä»–ä»¬å®šå°±å¥½ï¼Œæˆ‘è´Ÿè´£è·Ÿéšå’Œäº«å—ã€‚", scores: { social: 1, energy: -1, mind: -1, risk: 0, environment: -1 } },
                    { text: "åçˆ±æŒ‘æˆ˜æ€§çš„æ—…ç¨‹ï¼Œå¦‚å¾’æ­¥ã€æ¢é™©ï¼Œå¹¶ä¹äºè‡ªå·±åšä¸»ã€‚", scores: { social: 0, energy: 1, mind: 0, risk: 2, environment: 1 } }
                ]
            },
            {
                text: "åœ¨ç¤¾äº¤èšä¼šä¸­ï¼Œä½ é€šå¸¸æ›´åƒï¼š",
                options: [
                    { text: "æ°”æ°›æ‹…å½“ï¼Œæ´»è·ƒåœ¨äººç¾¤ä¸­å¤®ï¼Œäº«å—è¢«å…³æ³¨ã€‚", scores: { social: 2, energy: 1, mind: 0, risk: 1, environment: 1 } },
                    { text: "æ·±åº¦äº¤æµè€…ï¼Œåªå’Œä¸€ä¸¤ä¸ªäººè¿›è¡Œæœ‰æ„ä¹‰çš„è°ˆè¯ã€‚", scores: { social: 0, energy: 0, mind: 0, risk: 0, environment: 0 } },
                    { text: "è§‚å¯Ÿè€…ï¼Œå®‰é™åœ°å¾…åœ¨è§’è½ï¼Œçœ‹ç€å¤§å®¶ï¼Œè‡ªå¾—å…¶ä¹ã€‚", scores: { social: -1, energy: -1, mind: 1, risk: -1, environment: -1 } },
                    { text: "ç»„ç»‡è€…ï¼Œæ“å¿ƒç€å¤§å®¶çš„é¥®æ–™å’Œæƒ…ç»ªï¼Œç¡®ä¿æ²¡äººè¢«å†·è½ã€‚", scores: { social: 1, energy: 0, mind: 1, risk: 0, environment: 1 } }
                ]
            },
            {
                text: "ä½ æ›´åçˆ±å“ªç§å¤©æ°”ï¼Ÿ",
                options: [
                    { text: "é˜³å…‰æ˜åªšï¼Œæ¸©æš–ç”šè‡³ç‚çƒ­çš„å¤§æ™´å¤©ã€‚", scores: { social: 0, energy: 1, mind: 0, risk: 0, environment: 0 } },
                    { text: "å‡‰çˆ½çš„é˜´å¤©ï¼Œæˆ–è€…ç»†é›¨ç»µç»µçš„æ—¥å­ã€‚", scores: { social: 0, energy: -1, mind: 0, risk: 0, environment: 0 } },
                    { text: "å¤§é›ªçº·é£ï¼Œäº«å—å®¤å†…çš„æ¸©æš–ä¸é™è°§ã€‚", scores: { social: -1, energy: -1, mind: 0, risk: -1, environment: -1 } },
                    { text: "ç‹‚é£æš´é›¨ï¼Œå–œæ¬¢é‚£ç§èƒ½é‡é‡Šæ”¾çš„æ„Ÿè§‰ã€‚", scores: { social: 0, energy: 1, mind: 0, risk: 1, environment: 0 } }
                ]
            },
            {
                text: "ä½ å¦‚ä½•å¤„ç†ä¸€ä¸ªçªå¦‚å…¶æ¥çš„éš¾é¢˜ï¼Ÿ",
                options: [
                    { text: "ç«‹å³è¡ŒåŠ¨ï¼Œåœ¨å°è¯•ä¸­ä¸æ–­è°ƒæ•´æ–¹æ¡ˆã€‚", scores: { social: 0, energy: 1, mind: -1, risk: 1, environment: 1 } },
                    { text: "å…ˆå†·é™ä¸‹æ¥ï¼Œç³»ç»Ÿåœ°åˆ†æåˆ©å¼Šï¼Œæ‰¾å‡ºæœ€ä¼˜è§£ã€‚", scores: { social: 0, energy: 0, mind: 2, risk: -1, environment: 1 } },
                    { text: "å¯»æ±‚ä¸“å®¶æˆ–æœ‹å‹çš„å»ºè®®ï¼Œé›†æ€å¹¿ç›Šã€‚", scores: { social: 1, energy: 0, mind: 0, risk: 0, environment: 0 } },
                    { text: "ç›¸ä¿¡è‡ªå·±çš„ç›´è§‰å’Œæ„Ÿè§‰ï¼Œè·Ÿç€'å¿ƒ'èµ°ã€‚", scores: { social: 0, energy: 0, mind: -1, risk: 0, environment: -1 } }
                ]
            },
            {
                text: "å…³äº'å®¶'çš„æ¦‚å¿µï¼Œä½ æœ€è®¤åŒä»¥ä¸‹å“ªç§æè¿°ï¼Ÿ",
                options: [
                    { text: "ä¸€ä¸ªå®‰å…¨çš„å ¡å’ï¼Œå®Œå…¨å±äºæˆ‘è‡ªå·±ï¼Œéš”ç»å¤–ç•Œå¹²æ‰°ã€‚", scores: { social: -2, energy: -1, mind: 0, risk: -1, environment: -1 } },
                    { text: "ä¸€ä¸ªçƒ­é—¹çš„ç¤¾äº¤ä¸­å¿ƒï¼Œæ¬¢è¿æœ‹å‹å¸¸æ¥å¸¸å¾€ã€‚", scores: { social: 2, energy: 1, mind: 0, risk: 0, environment: 1 } },
                    { text: "ä¸€ä¸ªæ¸©æš–çš„æ¸¯æ¹¾ï¼Œæ˜¯ä¸å®¶äººå…±äº«çˆ±ä¸é™ªä¼´çš„åœ°æ–¹ã€‚", scores: { social: 1, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "ä¸€ä¸ªä¼‘æ¯ç«™ï¼Œæ›´é‡è¦çš„æ˜¯å¤–é¢çš„å¹¿é˜”ä¸–ç•Œã€‚", scores: { social: -1, energy: 1, mind: 0, risk: 1, environment: 0 } }
                ]
            },
            {
                text: "ä½ æ›´äº«å—å“ªç§ç±»å‹çš„å‡æœŸï¼Ÿ",
                options: [
                    { text: "åœ¨çƒ­å¸¦æµ·æ»©ä¸Šèººç€æ™’å¤ªé˜³ï¼Œå½»åº•æ”¾æ¾ã€‚", scores: { social: 0, energy: -2, mind: 0, risk: -1, environment: -1 } },
                    { text: "ç©¿æ¢­äºå„å¤§åŸå¸‚ï¼Œé€›éåšç‰©é¦†ã€å¤è¿¹å’Œå•†åœºã€‚", scores: { social: 0, energy: 1, mind: 1, risk: 0, environment: 0 } },
                    { text: "å»é‡ç”ŸåŠ¨ç‰©å›­æˆ–è‡ªç„¶ä¿æŠ¤åŒºï¼Œè§‚å¯ŸåŠ¨ç‰©ã€‚", scores: { social: -1, energy: 0, mind: 1, risk: 0, environment: 0 } },
                    { text: "å‚åŠ å¾’æ­¥ã€éœ²è¥ã€æ»‘é›ªç­‰æˆ·å¤–è¿åŠ¨å‡æœŸã€‚", scores: { social: 0, energy: 2, mind: 0, risk: 1, environment: 1 } }
                ]
            },
            {
                text: "ä½ çš„æ¶ˆè´¹ä¹ æƒ¯æ›´æ¥è¿‘ï¼Ÿ",
                options: [
                    { text: "æœ‰è®¡åˆ’åœ°å‚¨è“„å’Œæ¶ˆè´¹ï¼Œå¯¹æŠ•èµ„ç†è´¢å¾ˆæ„Ÿå…´è¶£ã€‚", scores: { social: 0, energy: 0, mind: 2, risk: -1, environment: 1 } },
                    { text: "æ³¨é‡ä½“éªŒï¼Œæ„¿æ„ä¸ºç¾é£Ÿã€æ—…è¡Œå’Œçˆ±å¥½èŠ±é’±ã€‚", scores: { social: 0, energy: 0, mind: -1, risk: 1, environment: 0 } },
                    { text: "ä¹äºä¸ºæœ‹å‹å’Œå®¶äººä¹°å•ï¼Œçœ‹åˆ°ä»–ä»¬å¼€å¿ƒæˆ‘å°±å¼€å¿ƒã€‚", scores: { social: 1, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "å®ç”¨ä¸»ä¹‰ï¼Œåªä¹°éœ€è¦çš„ï¼Œå¾ˆå°‘å†²åŠ¨æ¶ˆè´¹ã€‚", scores: { social: 0, energy: 0, mind: 1, risk: -1, environment: 0 } }
                ]
            },
            {
                text: "ä½ å¦‚ä½•çœ‹å¾…è§„åˆ™ï¼Ÿ",
                options: [
                    { text: "è§„åˆ™æ˜¯ç”¨æ¥éµå®ˆçš„ï¼Œå®ƒä»¬è®©ä¸–ç•Œæ›´æœ‰ç§©åºã€‚", scores: { social: 0, energy: 0, mind: 1, risk: -1, environment: 1 } },
                    { text: "è§„åˆ™æ˜¯ç”¨æ¥æ‰“ç ´çš„ï¼Œåˆ›æ–°å¾€å¾€å‘ç”Ÿåœ¨æ¡†æ¶ä¹‹å¤–ã€‚", scores: { social: 0, energy: 1, mind: 0, risk: 2, environment: 0 } },
                    { text: "è§„åˆ™æ˜¯å‚è€ƒï¼Œæˆ‘æ›´å…³å¿ƒè§„åˆ™èƒŒåçš„äººæƒ…ä¸æƒ…å¢ƒã€‚", scores: { social: 0, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "åªè¦ä¸å½±å“åˆ°æˆ‘å’Œæˆ‘åœ¨æ„çš„äººï¼Œæˆ‘å¹¶ä¸å¤ªå…³å¿ƒè§„åˆ™ã€‚", scores: { social: -1, energy: 0, mind: 0, risk: 0, environment: -1 } }
                ]
            },
            {
                text: "ä½ ä¸€å¤©ä¸­ç²¾åŠ›æœ€å……æ²›çš„æ—¶é—´æ®µæ˜¯ï¼Ÿ",
                options: [
                    { text: "æ¸…æ™¨ï¼Œé†’æ¥å°±å……æ»¡æ´»åŠ›ã€‚", scores: { social: 0, energy: 1, mind: 0, risk: 0, environment: 0 } },
                    { text: "æ·±å¤œï¼Œä¸‡ç±ä¿±å¯‚æ—¶æ€ç»´æœ€æ¸…æ™°ã€‚", scores: { social: -1, energy: 0, mind: 1, risk: 0, environment: -1 } },
                    { text: "ä¸‹åˆåˆ°å‚æ™šï¼Œéœ€è¦ä¸€ä¸ªç¼“æ…¢çš„å¯åŠ¨è¿‡ç¨‹ã€‚", scores: { social: 0, energy: 0, mind: 0, risk: 0, environment: 0 } },
                    { text: "ä¸å›ºå®šï¼ŒåƒçŒ«ä¸€æ ·å¯ä»¥éšæ—¶å……ç”µå°ç¡ã€‚", scores: { social: 0, energy: -1, mind: 0, risk: 0, environment: 0 } }
                ]
            },
            {
                text: "æœ‹å‹å¯¹ä½ æœ€å¯èƒ½çš„è¯„ä»·æ˜¯ï¼Ÿ",
                options: [
                    { text: "é è°±/ç¨³é‡ï¼Œåƒå®šå¿ƒä¸¸ä¸€æ ·çš„å­˜åœ¨ã€‚", scores: { social: 0, energy: 0, mind: 1, risk: -1, environment: 1 } },
                    { text: "æœ‰è¶£/æœ‰æƒ³æ³•ï¼Œæ€»èƒ½çœ‹åˆ°ä¸ä¸€æ ·çš„è§’åº¦ã€‚", scores: { social: 0, energy: 0, mind: 1, risk: 1, environment: 0 } },
                    { text: "æ¸©æš–/è´´å¿ƒï¼Œåƒå°å¤ªé˜³ä¸€æ ·æ²»æ„ˆã€‚", scores: { social: 1, energy: 0, mind: -1, risk: 0, environment: 0 } },
                    { text: "ç‹¬ç«‹/å¼ºå¤§ï¼Œæœ‰è‡ªå·±çš„ä¸€ä¸ªå°ä¸–ç•Œã€‚", scores: { social: -1, energy: 0, mind: 0, risk: 0, environment: -1 } }
                ]
            },
            {
                text: "é¢å¯¹ä¸€ä¸ªä½ éå¸¸æƒ³è¦çš„æœºä¼šï¼Œä½†ç«äº‰æ¿€çƒˆï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { text: "å…¨åŠ›ä»¥èµ´ï¼Œç§¯æå‡†å¤‡ï¼Œå¿—åœ¨å¿…å¾—ã€‚", scores: { social: 0, energy: 2, mind: 0, risk: 2, environment: 1 } },
                    { text: "ä»”ç»†è¯„ä¼°èƒœç®—ï¼Œå¦‚æœå¤ªä½å°±å¯èƒ½æ”¾å¼ƒã€‚", scores: { social: 0, energy: 0, mind: 1, risk: -1, environment: 0 } },
                    { text: "å¯»æ±‚åˆä½œï¼Œçœ‹çœ‹èƒ½å¦å’Œä»–äººç»„é˜Ÿäº‰å–ã€‚", scores: { social: 1, energy: 0, mind: 0, risk: 0, environment: 0 } },
                    { text: "é¡ºå…¶è‡ªç„¶ï¼Œç›¸ä¿¡â€˜æ˜¯æˆ‘çš„å°±æ˜¯æˆ‘çš„â€™ã€‚", scores: { social: 0, energy: -1, mind: 0, risk: -1, environment: -1 } }
                ]
            },
            {
                text: "å¦‚æœå˜æˆåŠ¨ç‰©ï¼Œä½ å†…å¿ƒæœ€æ¸´æœ›æ‹¥æœ‰çš„æ˜¯ï¼Ÿ",
                options: [
                    { text: "é¹°å‡»é•¿ç©ºçš„è‡ªç”±å’Œä¿¯ç°ä¸€åˆ‡çš„è§†é‡ã€‚", scores: { social: -1, energy: 1, mind: 1, risk: 1, environment: 1 } },
                    { text: "ç‹®ç¾¤ä¸­ç›¸äº’ä¾åçš„æ¸©æš–å’Œå¼ºå¤§çš„åŠ›é‡ã€‚", scores: { social: 2, energy: 1, mind: 0, risk: 0, environment: 1 } },
                    { text: "ç‹ç‹¸èˆ¬çš„æœºæ™ºæ•æ·å’Œä¼˜é›…ç¥ç§˜çš„é­…åŠ›ã€‚", scores: { social: 0, energy: 0, mind: 1, risk: 0, environment: 0 } },
                    { text: "ç†ŠçŒ«èˆ¬çš„ä¸ä¸–æ— äº‰ï¼Œè¢«å®‰ç¨³ç…§é¡¾çš„æƒ¬æ„ã€‚", scores: { social: -1, energy: -2, mind: -1, risk: -2, environment: -1 } }
                ]
            }
        ];

        // åŠ¨ç‰©æ•°æ®åº“
        const animals = [
            {
                name: "ç‹¼",
                traits: ["å¿ è¯š", "åä½œ", "çºªå¾‹æ€§", "å›¢é˜Ÿç²¾ç¥"],
                description: "ä½ çš„çµé­‚åŸå‹æ˜¯ç‹¼ï¼ä½ é‡è§†å›¢é˜Ÿå’Œå®¶åº­ï¼Œæ‹¥æœ‰å¼ºå¤§çš„å¿ è¯šåº¦å’Œåä½œç²¾ç¥ã€‚åœ¨ç¾¤ä½“ä¸­ï¼Œä½ æ—¢å¯ä»¥æ˜¯åšå®šçš„æ”¯æŒè€…ï¼Œä¹Ÿå¯ä»¥æ˜¯å¼ºæœ‰åŠ›çš„é¢†å¯¼è€…ã€‚ä½ çš„ç›´è§‰æ•é”ï¼Œèƒ½å¤Ÿæ„ŸçŸ¥ç¾¤ä½“çš„æƒ…ç»ªå’ŒåŠ¨æ€ã€‚è™½ç„¶ä½ äº«å—ç¾¤ä½“çš„æ¸©æš–ï¼Œä½†ä¹Ÿä¿æŒç€ç‹¬ç«‹çš„æ€è€ƒå’Œè¡ŒåŠ¨èƒ½åŠ›ã€‚",
                image: "ğŸº",
                imageUrl: "images/animals/ç‹¼.png",
                scores: { social: 5, energy: 4, mind: 3, risk: 3, environment: 4 }
            },
            {
                name: "ç‹®å­",
                traits: ["é¢†è¢–", "è‡ªä¿¡", "ä¿æŠ¤è€…", "å¨ä¸¥"],
                description: "ä½ çš„çµé­‚åŸå‹æ˜¯ç‹®å­ï¼ä½ å¤©ç”Ÿå…·æœ‰é¢†å¯¼æ°”è´¨ï¼Œè‡ªä¿¡è€Œå¨ä¸¥ã€‚åœ¨ç¾¤ä½“ä¸­ï¼Œä½ è‡ªç„¶è€Œç„¶åœ°æ‰¿æ‹…èµ·ä¿æŠ¤è€…å’Œå†³ç­–è€…çš„è§’è‰²ã€‚ä½ çš„åŠ›é‡ä¸ä»…ä½“ç°åœ¨è¡ŒåŠ¨ä¸Šï¼Œæ›´ä½“ç°åœ¨ä½ ç»™äºˆä»–äººçš„å®‰å…¨æ„Ÿå’Œæ–¹å‘æ„Ÿã€‚ä½ é‡è§†å®¶åº­å’Œå›¢é˜Ÿï¼Œä¼šä¸æƒœä¸€åˆ‡å®ˆæŠ¤ä½ æ‰€åœ¨æ„çš„äººã€‚",
                image: "ğŸ¦",
                imageUrl: "images/animals/ç‹®å­.png",
                scores: { social: 4, energy: 4, mind: 2, risk: 4, environment: 5 }
            },
            {
                name: "æµ·è±š",
                traits: ["æ™ºæ…§", "å‹å¥½", "çˆ±ç©", "é«˜åº¦ç¤¾äº¤"],
                description: "ä½ çš„çµé­‚åŸå‹æ˜¯æµ·è±šï¼ä½ èªæ˜ã€å‹å¥½ä¸”å……æ»¡æ´»åŠ›ï¼Œæ˜¯ç¾¤ä½“ä¸­çš„å¼€å¿ƒæœã€‚ä½ çƒ­çˆ±ç¤¾äº¤ï¼Œæ“…é•¿æ²Ÿé€šï¼Œèƒ½å¤Ÿè½»æ¾åœ°ä¸å„ç§äººå»ºç«‹è”ç³»ã€‚ä½ çš„å¥½å¥‡å¿ƒå¼ºï¼Œå–œæ¬¢æ¢ç´¢æ–°äº‹ç‰©ï¼Œå¹¶ä¸”æ€»æ˜¯å¸¦ç€ä¹è§‚å’Œç©ä¹çš„å¿ƒæ€é¢å¯¹ç”Ÿæ´»ã€‚ä½ çš„æ™ºæ…§å’Œé€‚åº”èƒ½åŠ›è®©ä½ åœ¨å„ç§ç¯å¢ƒä¸­éƒ½èƒ½æ¸¸åˆƒæœ‰ä½™ã€‚",
                image: "ğŸ¬",
                imageUrl: "images/animals/æµ·è±š.png",
                scores: { social: 5, energy: 4, mind: 3, risk: 2, environment: 2 }
            },
            {
                name: "å¤§è±¡",
                traits: ["æ™ºæ…§", "æ²‰ç¨³", "é‡æ„Ÿæƒ…", "è®°å¿†åŠ›å¼º"],
                description: "ä½ çš„çµé­‚åŸå‹æ˜¯å¤§è±¡ï¼ä½ æ‹¥æœ‰è¶…è¶Šå¹´é¾„çš„æ²‰ç¨³ä¸æ™ºæ…§ï¼Œæ˜¯ç¾¤ä½“ä¸­çš„å®šå¿ƒä¸¸ã€‚ä½ é‡æ„Ÿæƒ…ï¼Œè®°å¿†åŠ›å¼ºï¼Œå¯¹å®¶äººå’Œæœ‹å‹æä¸ºå¿ è¯šã€‚ä½ çš„åŠ›é‡å·¨å¤§ä½†ä»ä¸æ»¥ç”¨ï¼Œæ€»æ˜¯ä»¥æ¸©å’Œçš„æ–¹å¼è§£å†³é—®é¢˜ã€‚åœ¨å›¢é˜Ÿä¸­ï¼Œä½ æ˜¯å¤§å®¶ä¿¡èµ–çš„ä¾é ï¼Œä½ çš„å­˜åœ¨æœ¬èº«å°±å¸¦æ¥å®‰å…¨æ„Ÿã€‚",
                image: "ğŸ˜",
                imageUrl: "images/animals/å¤§è±¡.png",
                scores: { social: 4, energy: 2, mind: 4, risk: 1, environment: 3 }
            }
        ];

        // ç»´åº¦åˆ†ææè¿°åº“
        const dimensionDescriptions = {
            social: {
                high: "ä½ æ˜¯ä¸€ä¸ªé«˜åº¦ç¤¾äº¤çš„ä¸ªä½“ï¼Œåœ¨æ•°å­—æ—¶ä»£å¦‚é±¼å¾—æ°´ã€‚ä½ æ“…é•¿å»ºç«‹å’Œç»´æŠ¤äººé™…å…³ç³»ç½‘ç»œï¼Œè¿™åœ¨å½“ä»Šåä½œè‡³ä¸Šçš„å·¥ä½œç¯å¢ƒä¸­æ˜¯å®è´µèµ„äº§ã€‚",
                medium: "ä½ æ‡‚å¾—åœ¨è™šæ‹Ÿç¤¾äº¤å’ŒçœŸå®è¿æ¥é—´æ‰¾åˆ°å¹³è¡¡ï¼Œæ—¢èƒ½äº«å—çº¿ä¸Šç¤¾ç¾¤çš„ä¾¿åˆ©ï¼Œä¹Ÿé‡è§†é¢å¯¹é¢çš„æ·±åº¦äº¤æµã€‚",
                low: "åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œä½ çš„ç‹¬ç«‹æ€è€ƒèƒ½åŠ›å°¤ä¸ºçè´µã€‚ä½ æ›´å€¾å‘äºæ·±åº¦ä¸“æ³¨çš„å·¥ä½œæ¨¡å¼ï¼Œè¿™åœ¨è¿œç¨‹åŠå…¬å’Œè‡ªç”±èŒä¸šè¶‹åŠ¿ä¸­å…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚"
            },
            energy: {
                high: "ä½ å……æ»¡åˆ›ä¸šç²¾ç¥å’Œè¡ŒåŠ¨åŠ›ï¼Œé€‚åº”å¿«èŠ‚å¥çš„æ•°å­—åŒ–ç”Ÿæ´»ã€‚åœ¨AIå’Œè‡ªåŠ¨åŒ–å¿«é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œä½ çš„é€‚åº”èƒ½åŠ›å’Œå¿«é€Ÿå­¦ä¹ æ˜¯æ ¸å¿ƒç«äº‰åŠ›ã€‚",
                medium: "ä½ æ‡‚å¾—åœ¨é«˜æ•ˆå·¥ä½œå’Œèº«å¿ƒå¥åº·é—´æ‰¾åˆ°å¹³è¡¡ï¼Œè¿™ç§å¯æŒç»­çš„å·¥ä½œæ–¹å¼åœ¨è¿½æ±‚å·¥ä½œç”Ÿæ´»èåˆçš„ç°ä»£èŒåœºä¸­å¤‡å—æ¨å´‡ã€‚",
                low: "ä½ çš„æ²‰ç¨³å’Œæ·±åº¦æ€è€ƒèƒ½åŠ›åœ¨æµ®èºçš„ä¿¡æ¯æ—¶ä»£æ˜¾å¾—å°¤ä¸ºçè´µã€‚ä½ æ“…é•¿éœ€è¦æŒä¹…ä¸“æ³¨çš„æ·±åº¦å·¥ä½œï¼Œè¿™åœ¨åˆ›æ„å’Œç ”å‘é¢†åŸŸå…·æœ‰ç‹¬ç‰¹ä»·å€¼ã€‚"
            },
            mind: {
                high: "ä½ å¼ºå¤§çš„é€»è¾‘æ€ç»´èƒ½åŠ›åœ¨æ•°æ®é©±åŠ¨çš„å†³ç­–æ—¶ä»£æå…·ä¼˜åŠ¿ã€‚åœ¨AIè¾…åŠ©åˆ†æçš„æ—¶ä»£ï¼Œä½ çš„æ‰¹åˆ¤æ€§æ€ç»´å’Œç³»ç»Ÿæ€è€ƒèƒ½åŠ›æ˜¯ç¨€ç¼ºèµ„æºã€‚",
                medium: "ä½ èƒ½åœ¨ç†æ€§åˆ†æå’Œæ„Ÿæ€§æ´å¯Ÿé—´çµæ´»åˆ‡æ¢ï¼Œè¿™ç§å¹³è¡¡æ€ç»´åœ¨ç”¨æˆ·ä½“éªŒè®¾è®¡å’Œäº§å“ç®¡ç†ç­‰é¢†åŸŸå…·æœ‰ç‹¬ç‰¹ä»·å€¼ã€‚",
                low: "ä½ çš„å…±æƒ…èƒ½åŠ›å’Œäººæ–‡å…³æ€€åœ¨æŠ€æœ¯è‡³ä¸Šçš„æ—¶ä»£æ„ˆå‘é‡è¦ã€‚ä½ æ“…é•¿ç†è§£ç”¨æˆ·æƒ…æ„Ÿéœ€æ±‚ï¼Œè¿™åœ¨ä½“éªŒç»æµä¸­æ˜¯ä¸å¯æ›¿ä»£çš„ä¼˜åŠ¿ã€‚"
            },
            risk: {
                high: "ä½ çš„å†’é™©ç²¾ç¥åœ¨å¿«é€Ÿå˜åŒ–çš„æ•°å­—ç»æµä¸­æå…·ä»·å€¼ã€‚ä½ å–„äºåœ¨ä¸ç¡®å®šæ€§ä¸­å‘ç°æœºä¼šï¼Œè¿™ç§èƒ½åŠ›åœ¨åˆ›ä¸šå’Œåˆ›æ–°é¢†åŸŸå°¤ä¸ºçè´µã€‚",
                medium: "ä½ æ‡‚å¾—åœ¨åˆ›æ–°å’Œç¨³å®šé—´æ‰¾åˆ°å¹³è¡¡ï¼Œè¿™ç§ç¨³å¥çš„å†³ç­–é£æ ¼åœ¨é•¿æœŸä»·å€¼æŠ•èµ„å’Œå¯æŒç»­å‘å±•ä¸­å…·æœ‰ä¼˜åŠ¿ã€‚",
                low: "ä½ çš„è°¨æ…å’Œé£é™©æ„è¯†åœ¨å……æ»¡ä¸ç¡®å®šæ€§çš„æ—¶ä»£æ˜¯å®è´µèµ„äº§ã€‚ä½ æ“…é•¿å»ºç«‹ç¨³å›ºçš„åŸºç¡€ï¼Œè¿™åœ¨è¿½æ±‚å¯æŒç»­å¢é•¿çš„å•†ä¸šç¯å¢ƒä¸­å¤‡å—é‡è§†ã€‚"
            }
        };

        // ä¼˜åŠ¿å’Œå»ºè®®åº“
        const adviceLibrary = {
            strengths: {
                social: [
                    "åˆ©ç”¨ä½ çš„ç¤¾äº¤ä¼˜åŠ¿å»ºç«‹ä¸“ä¸šäººè„‰ç½‘ç»œï¼Œå±•ç¤ºä¸“ä¸šå½±å“åŠ›",
                    "åœ¨è¿œç¨‹åä½œæ—¶ä»£ï¼Œå‘æŒ¥ä½ çš„å›¢é˜Ÿåè°ƒèƒ½åŠ›ï¼Œæˆä¸ºè™šæ‹Ÿå›¢é˜Ÿçš„ç²˜åˆå‰‚",
                    "è¿ç”¨ä½ çš„æ²Ÿé€šå¤©èµ‹ï¼Œåœ¨è·¨æ–‡åŒ–åˆä½œä¸­æ¶èµ·æ²Ÿé€šæ¡¥æ¢",
                    "åœ¨ç¤¾ç¾¤ç»æµä¸­ï¼Œä½ çš„ç¤¾äº¤èƒ½åŠ›å¯ä»¥è½¬åŒ–ä¸ºå•†ä¸šä»·å€¼å’Œå“ç‰Œå½±å“åŠ›"
                ],
                energy: [
                    "åœ¨å¿«é€Ÿè¿­ä»£çš„äº’è”ç½‘è¡Œä¸šï¼Œä½ çš„è¡ŒåŠ¨åŠ›æ˜¯æ¨åŠ¨é¡¹ç›®è½åœ°çš„å…³é”®",
                    "åˆ©ç”¨ä½ çš„é«˜èƒ½é‡çŠ¶æ€ï¼Œåœ¨AIå·¥å…·è¾…åŠ©ä¸‹å®ç°æ›´é«˜çš„å·¥ä½œæ•ˆç‡",
                    "åœ¨åˆ›ä¸šç¯å¢ƒä¸­ï¼Œä½ çš„æ¿€æƒ…å’Œæ‰§è¡ŒåŠ›æ˜¯å¸å¼•æŠ•èµ„å’Œå›¢é˜Ÿçš„é‡è¦ç‰¹è´¨",
                    "åœ¨å¤šå˜çš„å¸‚åœºç¯å¢ƒä¸­ï¼Œä½ çš„é€‚åº”èƒ½åŠ›è®©ä½ èƒ½å¤Ÿå¿«é€ŸæŠ“ä½æ–°æœºé‡"
                ],
                mind: [
                    "åœ¨æ•°æ®ç§‘å­¦æ—¶ä»£ï¼Œä½ çš„åˆ†æèƒ½åŠ›å¯ä»¥è½¬åŒ–ä¸ºæ•°æ®é©±åŠ¨çš„å†³ç­–ä¼˜åŠ¿",
                    "åœ¨AIæ™®åŠçš„èƒŒæ™¯ä¸‹ï¼Œä½ çš„æ‰¹åˆ¤æ€§æ€ç»´æ˜¯åŒºåˆ†äººæœºåä½œçš„å…³é”®",
                    "åœ¨å¤æ‚ç³»ç»Ÿç®¡ç†ä¸­ï¼Œä½ çš„é€»è¾‘æ€ç»´æœ‰åŠ©äºè®¾è®¡æ›´ä¼˜åŒ–çš„è§£å†³æ–¹æ¡ˆ",
                    "åœ¨ä¿¡æ¯è¿‡è½½çš„æ—¶ä»£ï¼Œä½ çš„ç†æ€§åˆ¤æ–­æ˜¯ç­›é€‰æœ‰ä»·å€¼ä¿¡æ¯çš„é‡è¦èƒ½åŠ›"
                ],
                risk: [
                    "åœ¨ç§‘æŠ€åˆ›æ–°æµªæ½®ä¸­ï¼Œä½ çš„å†’é™©ç²¾ç¥é€‚åˆå‚ä¸å‰æ²¿æŠ€æœ¯çš„æ¢ç´¢",
                    "åœ¨æ•°å­—ç»æµä¸­ï¼Œä½ çš„é£é™©æ‰¿å—èƒ½åŠ›æœ‰åŠ©äºæŠŠæ¡åŒºå—é“¾ã€AIç­‰æ–°å…´æœºä¼š",
                    "åœ¨å¿«é€Ÿå˜åŒ–çš„å¸‚åœºä¸­ï¼Œä½ çš„åˆ›æ–°æ€ç»´èƒ½å¤Ÿå‘ç°è“æµ·å¸‚åœº",
                    "åœ¨å…¨çƒåŒ–ç«äº‰ä¸­ï¼Œä½ çš„å¼€æ‹“ç²¾ç¥æœ‰åŠ©äºä¼ä¸šå›½é™…åŒ–å¸ƒå±€"
                ]
            },
            weaknesses: {
                social: [
                    "åœ¨è¿œç¨‹åŠå…¬æ—¶ä»£ï¼Œå»ºè®®å­¦ä¹ ä½¿ç”¨æ•°å­—åŒ–åä½œå·¥å…·æ¥å¼¥è¡¥é¢å¯¹é¢äº¤æµçš„ä¸è¶³",
                    "å…³æ³¨çº¿ä¸Šç¤¾ç¾¤çš„å‚ä¸ï¼Œé€šè¿‡ä¸“ä¸šè®ºå›å’Œè™šæ‹Ÿç¤¾åŒºå»ºç«‹è¡Œä¸šè”ç³»",
                    "å°è¯•å‚ä¸çº¿ä¸Šå·¥ä½œåŠå’Œè™šæ‹Ÿä¼šè®®ï¼Œé€æ­¥æ‰©å±•ç¤¾äº¤èˆ’é€‚åŒº",
                    "åœ¨ä¸ªäººå“ç‰Œå»ºè®¾ä¸­ï¼Œé€‚åº¦å±•ç¤ºä¸“ä¸šè§è§£ï¼Œå»ºç«‹çº¿ä¸Šå½±å“åŠ›"
                ],
                energy: [
                    "åœ¨è¿½æ±‚å¯æŒç»­å‘å±•çš„è¶‹åŠ¿ä¸‹ï¼Œå­¦ä¹ ç²¾åŠ›ç®¡ç†æŠ€å·§ï¼Œé¿å…èŒä¸šå€¦æ€ ",
                    "ç»“åˆAIè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå°†ç²¾åŠ›é›†ä¸­åœ¨é«˜ä»·å€¼çš„åˆ›é€ æ€§å·¥ä½œä¸Š",
                    "åœ¨å¿«èŠ‚å¥å·¥ä½œä¸­ï¼ŒåŸ¹å…»å†¥æƒ³ç­‰æ­£å¿µç»ƒä¹ ï¼Œä¿æŒå¿ƒæ™ºæ¸…æ™°",
                    "å…³æ³¨æ·±åº¦å·¥ä½œæ–¹æ³•ï¼Œåœ¨ä¿¡æ¯ç¢ç‰‡åŒ–æ—¶ä»£ä¿æŒä¸“æ³¨åŠ›"
                ],
                mind: [
                    "åœ¨ç”¨æˆ·ä½“éªŒè‡³ä¸Šçš„æ—¶ä»£ï¼ŒåŸ¹å…»åŒç†å¿ƒè®¾è®¡æ€ç»´ï¼Œç†è§£ç”¨æˆ·æƒ…æ„Ÿéœ€æ±‚",
                    "å­¦ä¹ è®²æ•…äº‹æŠ€å·§ï¼Œåœ¨æ•°æ®é©±åŠ¨å†³ç­–ä¸­èå…¥äººæ–‡å…³æ€€",
                    "å…³æ³¨æƒ…æ„Ÿæ™ºèƒ½å‘å±•ï¼Œåœ¨AIæ—¶ä»£å¼ºåŒ–äººç±»ç‹¬ç‰¹çš„æƒ…æ„Ÿç†è§£èƒ½åŠ›",
                    "åœ¨åˆ›æ–°è¿‡ç¨‹ä¸­ï¼Œå¹³è¡¡ç†æ€§åˆ†æä¸ç›´è§‰æ´å¯Ÿï¼Œæ¿€å‘åˆ›é€ åŠ›"
                ],
                risk: [
                    "åœ¨ä¸ç¡®å®šæ€§æ—¶ä»£ï¼Œå­¦ä¹ æ•æ·æ–¹æ³•è®ºï¼Œä»¥å°æ­¥å¿«è·‘çš„æ–¹å¼é™ä½é£é™©",
                    "å…³æ³¨é•¿æœŸä¸»ä¹‰æŠ•èµ„ç†å¿µï¼Œåœ¨ç¨³å¥åŸºç¡€ä¸Šå¯»æ±‚é€‚åº¦åˆ›æ–°",
                    "å­¦ä¹ é£é™©è¯„ä¼°å·¥å…·ï¼Œåœ¨æ•°æ®æ”¯æŒä¸‹åšå‡ºæ›´æ˜æ™ºçš„å†³ç­–",
                    "åœ¨èŒä¸šè§„åˆ’ä¸­ï¼Œå»ºç«‹å®‰å…¨è¾¹ç•Œçš„åŒæ—¶ä¿æŒå¯¹æ–°å…´è¶‹åŠ¿çš„å¼€æ”¾æ€§"
                ]
            }
        };

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let userScores = { social: 0, energy: 0, mind: 0, risk: 0, environment: 0 };
        let selectedOption = null;

        // DOMå…ƒç´ 
        const introSection = document.getElementById('intro-section');
        const testSection = document.getElementById('test-section');
        const resultSection = document.getElementById('result-section');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionSpan = document.getElementById('current-question');
        const progressBar = document.getElementById('progress-bar');
        const resultName = document.getElementById('result-name');
        const resultImage = document.getElementById('result-image');
        const resultEmoji = document.getElementById('result-emoji');
        const imageLoading = document.getElementById('image-loading');
        const resultTraits = document.getElementById('result-traits');
        const resultDescription = document.getElementById('result-description');
        const testLimitWarning = document.getElementById('test-limit-warning');
        const previousResult = document.getElementById('previous-result');
        const viewPreviousResult = document.getElementById('view-previous-result');
        const resetTest = document.getElementById('reset-test');

        // æ–°å¢ï¼šç»´åº¦åˆ†æDOMå…ƒç´ 
        const socialDescription = document.getElementById('social-description');
        const energyDescription = document.getElementById('energy-description');
        const mindDescription = document.getElementById('mind-description');
        const riskDescription = document.getElementById('risk-description');
        const socialProgress = document.getElementById('social-progress');
        const energyProgress = document.getElementById('energy-progress');
        const mindProgress = document.getElementById('mind-progress');
        const riskProgress = document.getElementById('risk-progress');
        const socialValue = document.getElementById('social-value');
        const energyValue = document.getElementById('energy-value');
        const mindValue = document.getElementById('mind-value');
        const riskValue = document.getElementById('risk-value');
        const strengthsList = document.getElementById('strengths-list');
        const weaknessesList = document.getElementById('weaknesses-list');

        // äº‹ä»¶ç›‘å¬
        startBtn.addEventListener('click', startTest);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartTest);
        viewPreviousResult.addEventListener('click', showPreviousResult);
        resetTest.addEventListener('click', resetTestData);

        // æ£€æŸ¥æµ‹è¯•çŠ¶æ€
        function checkTestStatus() {
            const hasTested = localStorage.getItem('animalTestCompleted');
            const testResult = localStorage.getItem('animalTestResult');
            
            if (hasTested === 'true' && testResult) {
                const result = JSON.parse(testResult);
                testLimitWarning.style.display = 'block';
                previousResult.textContent = result.name;
                startBtn.style.display = 'none';
            }
        }

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            introSection.style.display = 'none';
            testSection.style.display = 'block';
            showQuestion();
        }

        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion() {
            const question = questions[currentQuestion];
            questionText.textContent = question.text;
            optionsContainer.innerHTML = '';
            
            currentQuestionSpan.textContent = currentQuestion + 1;
            progressBar.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option.text;
                optionElement.dataset.index = index;
                optionElement.addEventListener('click', selectOption);
                optionsContainer.appendChild(optionElement);
            });
            
            nextBtn.disabled = true;
            selectedOption = null;
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(e) {
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            
            e.target.classList.add('selected');
            selectedOption = parseInt(e.target.dataset.index);
            nextBtn.disabled = false;
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (selectedOption === null) return;
            
            const selectedScores = questions[currentQuestion].options[selectedOption].scores;
            for (const key in selectedScores) {
                userScores[key] += selectedScores[key];
            }
            
            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            testSection.style.display = 'none';
            resultSection.style.display = 'block';
            
            const matchedAnimal = findClosestAnimal();
            
            resultName.textContent = matchedAnimal.name;
            resultDescription.textContent = matchedAnimal.description;
            
            // å›¾ç‰‡æ˜¾ç¤ºé€»è¾‘
            resultImage.style.display = 'none';
            resultEmoji.style.display = 'none';
            imageLoading.style.display = 'flex';
            
            if (matchedAnimal.imageUrl) {
                const img = new Image();
                
                img.onload = function() {
                    imageLoading.style.display = 'none';
                    resultImage.src = matchedAnimal.imageUrl;
                    resultImage.alt = matchedAnimal.name;
                    resultImage.style.display = 'block';
                };
                
                img.onerror = function() {
                    imageLoading.style.display = 'none';
                    resultEmoji.textContent = matchedAnimal.image;
                    resultEmoji.style.display = 'flex';
                };
                
                img.src = matchedAnimal.imageUrl;
            } else {
                imageLoading.style.display = 'none';
                resultEmoji.textContent = matchedAnimal.image;
                resultEmoji.style.display = 'flex';
            }
            
            // æ˜¾ç¤ºç‰¹è´¨
            resultTraits.innerHTML = '';
            matchedAnimal.traits.forEach(trait => {
                const traitElement = document.createElement('div');
                traitElement.className = 'trait';
                traitElement.textContent = trait;
                resultTraits.appendChild(traitElement);
            });
            
            // æ˜¾ç¤ºç»´åº¦åˆ†æ
            showDimensionAnalysis();
            
            // ä¿å­˜æµ‹è¯•çŠ¶æ€
            localStorage.setItem('animalTestCompleted', 'true');
            localStorage.setItem('animalTestResult', JSON.stringify(matchedAnimal));
            localStorage.setItem('animalTestDate', new Date().toISOString());
            localStorage.setItem('userScores', JSON.stringify(userScores));
        }

        // æ˜¾ç¤ºç»´åº¦åˆ†æ
        function showDimensionAnalysis() {
            // è®¡ç®—æ¯ä¸ªç»´åº¦çš„ç™¾åˆ†æ¯”ï¼ˆ-5åˆ°5æ˜ å°„åˆ°0-100%ï¼‰
            const socialPercent = ((userScores.social + 5) / 10) * 100;
            const energyPercent = ((userScores.energy + 5) / 10) * 100;
            const mindPercent = ((userScores.mind + 5) / 10) * 100;
            const riskPercent = ((userScores.risk + 5) / 10) * 100;
            
            // è®¾ç½®è¿›åº¦æ¡
            setTimeout(() => {
                socialProgress.style.width = socialPercent + '%';
                energyProgress.style.width = energyPercent + '%';
                mindProgress.style.width = mindPercent + '%';
                riskProgress.style.width = riskPercent + '%';
            }, 100);
            
            // è®¾ç½®æ•°å€¼æ˜¾ç¤º
            socialValue.textContent = getLevelText(userScores.social);
            energyValue.textContent = getLevelText(userScores.energy);
            mindValue.textContent = getLevelText(userScores.mind);
            riskValue.textContent = getLevelText(userScores.risk);
            
            // è®¾ç½®æè¿°
            socialDescription.textContent = getDimensionDescription('social', userScores.social);
            energyDescription.textContent = getDimensionDescription('energy', userScores.energy);
            mindDescription.textContent = getDimensionDescription('mind', userScores.mind);
            riskDescription.textContent = getDimensionDescription('risk', userScores.risk);
            
            // è®¾ç½®ä¼˜åŠ¿å’Œå»ºè®®
            showAdvice();
        }

        // è·å–ç»´åº¦æ°´å¹³æ–‡æœ¬
        function getLevelText(score) {
            if (score >= 3) return "éå¸¸é«˜";
            if (score >= 1) return "è¾ƒé«˜";
            if (score >= -1) return "ä¸­ç­‰";
            if (score >= -3) return "è¾ƒä½";
            return "éå¸¸ä½";
        }

        // è·å–ç»´åº¦æè¿°
        function getDimensionDescription(dimension, score) {
            if (score >= 2) return dimensionDescriptions[dimension].high;
            if (score >= -2) return dimensionDescriptions[dimension].medium;
            return dimensionDescriptions[dimension].low;
        }

        // æ–°å¢ï¼šèŒä¸šå‘å±•å»ºè®®åº“
        const careerAdvice = {
            highSocial: [
                "äº§å“ç»ç†ã€ç¤¾ç¾¤è¿è¥ã€äººåŠ›èµ„æºã€å®¢æˆ·æˆåŠŸç­‰éœ€è¦å¼ºæ²Ÿé€šçš„å²—ä½",
                "è€ƒè™‘å‘ç®¡ç†å’¨è¯¢ã€åŸ¹è®­å¸ˆã€å…¬å…³ç­‰æ–¹å‘å‘å±•",
                "åœ¨è¿œç¨‹åä½œè¶‹åŠ¿ä¸‹ï¼Œå¯ä¸“æ³¨è™šæ‹Ÿå›¢é˜Ÿç®¡ç†å’Œçº¿ä¸Šç¤¾ç¾¤å»ºè®¾"
            ],
            lowSocial: [
                "ç ”å‘å·¥ç¨‹å¸ˆã€æ•°æ®åˆ†æå¸ˆã€å†…å®¹åˆ›ä½œè€…ç­‰æ·±åº¦å·¥ä½œå‹èŒä¸š",
                "è€ƒè™‘è¿œç¨‹å·¥ä½œæˆ–è‡ªç”±èŒä¸šï¼Œå……åˆ†å‘æŒ¥ç‹¬ç«‹å·¥ä½œä¼˜åŠ¿",
                "åœ¨AIè¾…åŠ©ä¸‹ï¼Œä¸“æ³¨éœ€è¦æ·±åº¦æ€è€ƒçš„æŠ€æœ¯æˆ–åˆ›æ„å·¥ä½œ"
            ],
            highEnergy: [
                "åˆ›ä¸šå…¬å¸ã€é¡¹ç›®ç®¡ç†ã€é”€å”®ã€å¸‚åœºç­‰å¿«èŠ‚å¥å²—ä½",
                "åœ¨æ–°å…´ç§‘æŠ€é¢†åŸŸå¯»æ‰¾æœºä¼šï¼Œå¦‚AIåº”ç”¨ã€æ•°å­—åŒ–è½¬å‹é¡¹ç›®",
                "è€ƒè™‘å¤šé¡¹ç›®å¹¶è¡Œçš„å·¥ä½œæ¨¡å¼ï¼Œå……åˆ†å‘æŒ¥å¤šä»»åŠ¡å¤„ç†èƒ½åŠ›"
            ],
            lowEnergy: [
                "ç ”ç©¶åˆ†æã€å“è´¨ç®¡ç†ã€æŠ€æœ¯æ”¯æŒç­‰éœ€è¦è€å¿ƒçš„å²—ä½",
                "åœ¨å¯æŒç»­å‘å±•ã€ESGæŠ•èµ„ç­‰é•¿æœŸä»·å€¼é¢†åŸŸå‘å±•",
                "è€ƒè™‘å¼¹æ€§å·¥ä½œåˆ¶ï¼ŒæŒ‰ç…§è‡ªå·±çš„èŠ‚å¥å®‰æ’æ·±åº¦å·¥ä½œ"
            ],
            highMind: [
                "æ•°æ®ç§‘å­¦å®¶ã€æˆ˜ç•¥åˆ†æã€é‡‘èåˆ†æã€ç³»ç»Ÿæ¶æ„ç­‰ç†æ€§å²—ä½",
                "åœ¨AIä¼¦ç†ã€ç®—æ³•æ²»ç†ç­‰æ–°å…´é¢†åŸŸå‘æŒ¥æ‰¹åˆ¤æ€§æ€ç»´",
                "è€ƒè™‘å‘æŠ•èµ„åˆ†æã€é£é™©ç®¡ç†ç­‰éœ€è¦ä¸¥è°¨æ€ç»´çš„æ–¹å‘å‘å±•"
            ],
            lowMind: [
                "ç”¨æˆ·ä½“éªŒè®¾è®¡ã€å¿ƒç†å’¨è¯¢ã€å†…å®¹ç­–åˆ’ã€å“ç‰Œè¥é”€ç­‰æ„Ÿæ€§å²—ä½",
                "åœ¨åˆ›æ„ç»æµã€ä½“éªŒè®¾è®¡ç­‰éœ€è¦äººæ–‡å…³æ€€çš„é¢†åŸŸå‘å±•",
                "è€ƒè™‘å‘æ•™è‚²ã€åŒ»ç–—ç­‰éœ€è¦å¼ºå…±æƒ…èƒ½åŠ›çš„æœåŠ¡è¡Œä¸šå‘å±•"
            ],
            highRisk: [
                "é£é™©æŠ•èµ„ã€åˆ›ä¸šã€åˆ›æ–°é¡¹ç›®ç®¡ç†ã€å¸‚åœºæ‹“å±•ç­‰å²—ä½",
                "åœ¨åŒºå—é“¾ã€å…ƒå®‡å®™ç­‰å‰æ²¿ç§‘æŠ€é¢†åŸŸå¯»æ‰¾æœºä¼š",
                "è€ƒè™‘å‚ä¸ä¼ä¸šå†…éƒ¨åˆ›æ–°é¡¹ç›®æˆ–å­µåŒ–å™¨å·¥ä½œ"
            ],
            lowRisk: [
                "å®¡è®¡ã€åˆè§„ã€é¡¹ç›®ç®¡ç†ã€è¿è¥ç®¡ç†ç­‰ç¨³å¥å‹å²—ä½",
                "åœ¨æ”¿åºœæœºæ„ã€å…¬å…±æœåŠ¡ã€åŸºç¡€è®¾æ–½å»ºè®¾ç­‰é¢†åŸŸå‘å±•",
                "è€ƒè™‘å‘æµç¨‹ä¼˜åŒ–ã€å“è´¨ç®¡æ§ç­‰éœ€è¦ç»†è‡´è€å¿ƒçš„å·¥ä½œ"
            ]
        };

        // æ–°å¢ï¼šæ—¶ä»£è¶‹åŠ¿å»ºè®®
        const trendAdvice = {
            digitalTransformation: [
                "å­¦ä¹ æ•°å­—åŒ–å·¥å…·çš„ä½¿ç”¨ï¼Œæå‡åœ¨è¿œç¨‹åä½œç¯å¢ƒä¸­çš„ç«äº‰åŠ›",
                "å…³æ³¨AIè¾…åŠ©å†³ç­–ï¼Œå°†äººç±»ç›´è§‰ä¸æœºå™¨æ™ºèƒ½ç›¸ç»“åˆ",
                "åœ¨å…ƒå®‡å®™å’Œè™šæ‹Ÿç°å®å‘å±•ä¸­ï¼Œå¯»æ‰¾æ–°çš„èŒä¸šæœºä¼š"
            ],
            sustainability: [
                "å…³æ³¨ESGï¼ˆç¯å¢ƒã€ç¤¾ä¼šã€æ²»ç†ï¼‰æŠ•èµ„å’Œç»¿è‰²ç»æµè¶‹åŠ¿",
                "åœ¨ç¢³ä¸­å’Œç›®æ ‡ä¸‹ï¼Œæ¢ç´¢æ–°èƒ½æºã€ç¯ä¿ç§‘æŠ€ç­‰æ–°å…´é¢†åŸŸ",
                "å­¦ä¹ å¯æŒç»­å•†ä¸šæ¨¡å¼è®¾è®¡ï¼Œä¸ºä¼ä¸šé•¿æœŸä»·å€¼è´¡çŒ®åŠ›é‡"
            ],
            mentalHealth: [
                "åœ¨é«˜å‹å·¥ä½œç¯å¢ƒä¸‹ï¼Œé‡è§†å¿ƒç†å¥åº·å’Œå‹åŠ›ç®¡ç†",
                "å­¦ä¹ æ­£å¿µå†¥æƒ³ç­‰æŠ€å·§ï¼Œåœ¨æ•°å­—è¿‡è½½æ—¶ä»£ä¿æŒå†…å¿ƒå¹³é™",
                "å…³æ³¨å·¥ä½œç”Ÿæ´»èåˆï¼Œå»ºç«‹å¥åº·çš„æ•°å­—è¾¹ç•Œ"
            ],
            lifelongLearning: [
                "å»ºç«‹æŒç»­å­¦ä¹ çš„ä¹ æƒ¯ï¼Œé€‚åº”å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯ç¯å¢ƒ",
                "å…³æ³¨å¾®è¯ä¹¦å’ŒæŠ€èƒ½è®¤è¯ï¼Œæå‡èŒä¸šç«äº‰åŠ›",
                "åœ¨AIæ—¶ä»£ï¼Œé‡ç‚¹å‘å±•äººç±»ç‹¬ç‰¹çš„åˆ›é€ åŠ›å’Œæƒ…æ„Ÿæ™ºèƒ½"
            ]
        };

        // æ”¹è¿›çš„æ˜¾ç¤ºä¼˜åŠ¿å’Œå»ºè®®å‡½æ•°
        function showAdvice() {
            strengthsList.innerHTML = '';
            weaknessesList.innerHTML = '';
            
            const selectedStrengths = [];
            const selectedWeaknesses = [];
            const careerSuggestions = [];
            const trendSuggestions = new Set();
            
            // åˆ†ææ¯ä¸ªç»´åº¦ï¼Œç»™å‡ºå…·ä½“å»ºè®®
            analyzeDimension('social', selectedStrengths, selectedWeaknesses, careerSuggestions);
            analyzeDimension('energy', selectedStrengths, selectedWeaknesses, careerSuggestions);
            analyzeDimension('mind', selectedStrengths, selectedWeaknesses, careerSuggestions);
            analyzeDimension('risk', selectedStrengths, selectedWeaknesses, careerSuggestions);
            
            // æ·»åŠ æ—¶ä»£è¶‹åŠ¿å»ºè®®
            addTrendAdvice(trendSuggestions);
            
            // å¡«å……ä¼˜åŠ¿åˆ—è¡¨
            selectedStrengths.forEach((strength, index) => {
                if (index < 3) {
                    const li = document.createElement('div');
                    li.innerHTML = 'ğŸš€ ' + strength;
                    li.style.marginBottom = '8px';
                    li.style.padding = '5px';
                    li.style.background = 'linear-gradient(135deg, #e8f5e8, #c8e6c9)';
                    li.style.borderRadius = '5px';
                    strengthsList.appendChild(li);
                }
            });
            
            // å¡«å……èŒä¸šå»ºè®®
            const careerBox = document.createElement('div');
            careerBox.innerHTML = '<div style="font-weight: bold; color: #1976d2; margin: 15px 0 8px 0;">ğŸ’¼ èŒä¸šå‘å±•å»ºè®®</div>';
            careerSuggestions.slice(0, 3).forEach(suggestion => {
                const li = document.createElement('div');
                li.innerHTML = 'â€¢ ' + suggestion;
                li.style.marginBottom = '6px';
                li.style.color = '#555';
                careerBox.appendChild(li);
            });
            strengthsList.appendChild(careerBox);
            
            // å¡«å……æˆé•¿å»ºè®®
            selectedWeaknesses.forEach((weakness, index) => {
                if (index < 3) {
                    const li = document.createElement('div');
                    li.innerHTML = 'ğŸ¯ ' + weakness;
                    li.style.marginBottom = '8px';
                    li.style.padding = '5px';
                    li.style.background = 'linear-gradient(135deg, #ffebee, #ffcdd2)';
                    li.style.borderRadius = '5px';
                    weaknessesList.appendChild(li);
                }
            });
            
            // å¡«å……æ—¶ä»£è¶‹åŠ¿å»ºè®®
            const trendBox = document.createElement('div');
            trendBox.innerHTML = '<div style="font-weight: bold; color: #7b1fa2; margin: 15px 0 8px 0;">ğŸŒ æ—¶ä»£è¶‹åŠ¿é€‚åº”</div>';
            Array.from(trendSuggestions).slice(0, 3).forEach(suggestion => {
                const li = document.createElement('div');
                li.innerHTML = 'ğŸ“ˆ ' + suggestion;
                li.style.marginBottom = '6px';
                li.style.color = '#555';
                trendBox.appendChild(li);
            });
            weaknessesList.appendChild(trendBox);
        }

        // åˆ†æå•ä¸ªç»´åº¦
        function analyzeDimension(dimension, strengths, weaknesses, careerSuggestions) {
            const score = userScores[dimension];
            
            if (score >= 3) {
                // é«˜åˆ†ä¼˜åŠ¿
                const randomStrength = adviceLibrary.strengths[dimension][
                    Math.floor(Math.random() * adviceLibrary.strengths[dimension].length)
                ];
                strengths.push(randomStrength);
                
                // èŒä¸šå»ºè®®
                const careerKey = `high${dimension.charAt(0).toUpperCase() + dimension.slice(1)}`;
                if (careerAdvice[careerKey]) {
                    careerSuggestions.push(...careerAdvice[careerKey].slice(0, 1));
                }
                
            } else if (score <= -3) {
                // ä½åˆ†ä¼˜åŠ¿ï¼ˆåå‘ä¼˜åŠ¿ï¼‰
                const reverseStrength = getReverseStrength(dimension);
                strengths.push(reverseStrength);
                
                // èŒä¸šå»ºè®®
                const careerKey = `low${dimension.charAt(0).toUpperCase() + dimension.slice(1)}`;
                if (careerAdvice[careerKey]) {
                    careerSuggestions.push(...careerAdvice[careerKey].slice(0, 1));
                }
                
            } else {
                // ä¸­ç­‰åˆ†æ•°çš„å¹³è¡¡å»ºè®®
                strengths.push(`åœ¨${getDimensionName(dimension)}æ–¹é¢ä¿æŒè‰¯å¥½å¹³è¡¡`);
            }
            
            // æˆé•¿å»ºè®®ï¼ˆé’ˆå¯¹æç«¯åˆ†æ•°ï¼‰
            if (Math.abs(score) >= 3) {
                const randomWeakness = adviceLibrary.weaknesses[dimension][
                    Math.floor(Math.random() * adviceLibrary.weaknesses[dimension].length)
                ];
                weaknesses.push(randomWeakness);
            }
        }

        // è·å–ç»´åº¦ä¸­æ–‡åç§°
        function getDimensionName(dimension) {
            const names = {
                social: 'ç¤¾äº¤èƒ½åŠ›',
                energy: 'èƒ½é‡ç®¡ç†',
                mind: 'æ€ç»´æ–¹å¼',
                risk: 'é£é™©åº”å¯¹'
            };
            return names[dimension] || dimension;
        }

        // è·å–åå‘ä¼˜åŠ¿ï¼ˆä½åˆ†æ—¶çš„ç‹¬ç‰¹ä¼˜åŠ¿ï¼‰
        function getReverseStrength(dimension) {
            const reverseStrengths = {
                social: "ç‹¬ç«‹å·¥ä½œçš„ä¸“æ³¨åŠ›åœ¨è¿œç¨‹åŠå…¬æ—¶ä»£æå…·ä»·å€¼",
                energy: "æ²‰ç¨³æŒä¹…çš„å·¥ä½œé£æ ¼é€‚åˆéœ€è¦æ·±åº¦ä¸“æ³¨çš„é¢†åŸŸ",
                mind: "æ•é”çš„ç›´è§‰å’Œå…±æƒ…èƒ½åŠ›åœ¨ä½“éªŒç»æµä¸­å¤‡å—é‡è§†",
                risk: "ç¨³å¥è°¨æ…çš„å†³ç­–é£æ ¼åœ¨ä¸ç¡®å®šæ€§æ—¶ä»£æ˜¯å®è´µèµ„äº§"
            };
            return reverseStrengths[dimension] || "åœ¨è¿™ä¸€ç»´åº¦å…·æœ‰ç‹¬ç‰¹çš„å¹³è¡¡ä¼˜åŠ¿";
        }

        // æ·»åŠ æ—¶ä»£è¶‹åŠ¿å»ºè®®
        function addTrendAdvice(trendSuggestions) {
            // æ ¹æ®ç”¨æˆ·ç‰¹å¾æ¨èç›¸å…³è¶‹åŠ¿
            if (userScores.energy >= 2) {
                trendSuggestions.add(trendAdvice.digitalTransformation[0]);
            }
            if (userScores.mind >= 2) {
                trendSuggestions.add(trendAdvice.lifelongLearning[0]);
            }
            if (userScores.social <= -2) {
                trendSuggestions.add(trendAdvice.mentalHealth[1]);
            }
            
            // é€šç”¨è¶‹åŠ¿å»ºè®®
            trendSuggestions.add(trendAdvice.lifelongLearning[2]);
            trendSuggestions.add(trendAdvice.sustainability[1]);
        }

        // æ‰¾åˆ°æœ€åŒ¹é…çš„åŠ¨ç‰©
        function findClosestAnimal() {
            let minDistance = Infinity;
            let closestAnimal = animals[0];
            
            animals.forEach(animal => {
                let distance = 0;
                for (const key in userScores) {
                    distance += Math.pow(userScores[key] - animal.scores[key], 2);
                }
                distance = Math.sqrt(distance);
                
                if (distance < minDistance) {
                    minDistance = distance;
                    closestAnimal = animal;
                }
            });
            
            return closestAnimal;
        }

        // æ˜¾ç¤ºä¸Šæ¬¡ç»“æœ
        function showPreviousResult() {
            const testResult = JSON.parse(localStorage.getItem('animalTestResult'));
            const savedScores = JSON.parse(localStorage.getItem('userScores'));
            
            if (testResult) {
                introSection.style.display = 'none';
                resultSection.style.display = 'block';
                
                resultName.textContent = testResult.name;
                resultDescription.textContent = testResult.description;
                
                // å›¾ç‰‡æ˜¾ç¤ºé€»è¾‘
                resultImage.style.display = 'none';
                resultEmoji.style.display = 'none';
                imageLoading.style.display = 'flex';
                
                if (testResult.imageUrl) {
                    const img = new Image();
                    
                    img.onload = function() {
                        imageLoading.style.display = 'none';
                        resultImage.src = testResult.imageUrl;
                        resultImage.alt = testResult.name;
                        resultImage.style.display = 'block';
                    };
                    
                    img.onerror = function() {
                        imageLoading.style.display = 'none';
                        resultEmoji.textContent = testResult.image;
                        resultEmoji.style.display = 'flex';
                    };
                    
                    img.src = testResult.imageUrl;
                } else {
                    imageLoading.style.display = 'none';
                    resultEmoji.textContent = testResult.image;
                    resultEmoji.style.display = 'flex';
                }
                
                // æ˜¾ç¤ºç‰¹è´¨
                resultTraits.innerHTML = '';
                testResult.traits.forEach(trait => {
                    const traitElement = document.createElement('div');
                    traitElement.className = 'trait';
                    traitElement.textContent = trait;
                    resultTraits.appendChild(traitElement);
                });
                
                // æ˜¾ç¤ºç»´åº¦åˆ†æï¼ˆå¦‚æœæœ‰ä¿å­˜çš„åˆ†æ•°ï¼‰
                if (savedScores) {
                    userScores = savedScores;
                    showDimensionAnalysis();
                }
            }
        }

        // é‡ç½®æµ‹è¯•æ•°æ®
        function resetTestData() {
            if (confirm('ç¡®å®šè¦é‡ç½®æµ‹è¯•å—ï¼Ÿè¿™å°†æ¸…é™¤æ‚¨ä¹‹å‰çš„æµ‹è¯•ç»“æœï¼Œæ‚¨å¯ä»¥é‡æ–°è¿›è¡Œæµ‹è¯•ã€‚')) {
                localStorage.removeItem('animalTestCompleted');
                localStorage.removeItem('animalTestResult');
                localStorage.removeItem('animalTestDate');
                localStorage.removeItem('userScores');
                location.reload();
            }
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            userScores = { social: 0, energy: 0, mind: 0, risk: 0, environment: 0 };
            selectedOption = null;
            
            resultSection.style.display = 'none';
            introSection.style.display = 'block';
            
            // é‡æ–°æ˜¾ç¤ºå¼€å§‹æŒ‰é’®
            startBtn.style.display = 'block';
            testLimitWarning.style.display = 'none';
        }
    </script>
</body>
</html>